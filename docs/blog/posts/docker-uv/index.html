<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Python3 Dockerfile with uv | I’ve been noticed that my simple...</title><meta name=description content="I’ve been noticed that my simple python3 docker image with uv has unexpected amount of downloads, so, I descided to steal som..."><meta name=keywords content="python3,docker,dockerfile,uv,python uv,uv package manager,rust-based pip alternative,fast python package manager,python venv alternative,uv vs pip,uv docker integration,python package management,rust python tools,how to use uv in docker,best python package manager 2025,uv vs pip performance comparison,setting up uv in CI/CD,running uv in docker containers"><meta name=author content="Ivan Bogomolov"><meta name=robots content="index,follow"><link rel=canonical href=https://bogomolov.work/blog/posts/docker-uv/><link rel=alternate type=application/rss+xml href=/blog/index.xml title="The Archive"><link rel=icon type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=/android-chrome-192x192.png><link rel=icon type=image/png sizes=512x512 href=/android-chrome-512x512.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta property="og:title" content="Python3 Dockerfile with uv"><meta property="og:description" content="I’ve been noticed that my simple python3 docker image with uv has unexpected amount of downloads, so, I descided to steal some traffic from original https://docs.astral.sh/uv/guides/integration/docker/ to it page.
# What is it uv? Long story short - it’s fast-Rust python’s pip alternative. And python3 -m venv ./venv too and maybe more at time when you’re reading it.
"><meta property="og:type" content="website"><meta property="og:url" content="https://bogomolov.work/blog/posts/docker-uv/"><meta property="og:logo" content="https://bogomolov.work/blog/img/the-archive.jpg"><meta property="og:image" content="https://bogomolov.work/blog/posts/docker-uv/posts-docker-uv-1.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@_irr123"><meta property="twitter:domain" content="bogomolov.work"><meta property="twitter:url" content="https://bogomolov.work/blog/posts/docker-uv/"><meta name=twitter:title content="Python3 Dockerfile with uv"><meta name=twitter:description content="I’ve been noticed that my simple python3 docker image with uv has unexpected amount of downloads, so, I descided to steal some traffic from original https://docs.astral.sh/uv/guides/integration/docker/ to it page.
# What is it uv? Long story short - it’s fast-Rust python’s pip alternative. And python3 -m venv ./venv too and maybe more at time when you’re reading it.
"><meta name=twitter:image content="https://bogomolov.work/blog/posts/docker-uv/posts-docker-uv-1.jpg"><meta name=theme-color content="#000000"><link rel=stylesheet href=/blog/css/styles.bundle.min.6dfd4bffb4fc60f9fc9061ace4309feccf93d5aefab8d8e2ad003d757bd5f34194e43fbde5acefb17dd532099a054926df6c8f38ff0bb741520a4064a1d4eb5c.css integrity="sha512-bf1L/7T8YPn8kGGs5DCf7M+T1a76uNjirQA9dXvV80GU5D+95azvsX3VMgmaBUkm32yPOP8Lt0FSCkBkodTrXA=="><link rel=preconnect href=https://www.googletagmanager.com><link rel=preconnect href=https://pagead2.googlesyndication.com><link rel=preconnect href=https://mc.yandex.ru></head><body a=auto><main class=page-content aria-label=Content><div class=w><div class=post-meta><a href=/blog/ aria-label="Back to Index" title="Back to Index">← Back</a><p><time datetime=2025-02-18T12:39:42+00:00>2025-02-18</time></p></div><h1>Python3 Dockerfile with uv</h1><article><p>I’ve been noticed that my simple
<a href=https://hub.docker.com/repository/docker/c1rno/python target=_blank rel="noopener noreferrer">python3 docker image</a>
with uv has unexpected amount of downloads, so, I descided to steal some traffic
from original <a href=https://docs.astral.sh/uv/guides/integration/docker/ target=_blank rel="noopener noreferrer">https://docs.astral.sh/uv/guides/integration/docker/</a> to it page.</p><h2 id=what-is-it-uv><a href=#what-is-it-uv>#</a> What is it <a href=https://github.com/astral-sh/uv target=_blank rel="noopener noreferrer">uv</a>?</h2><figure><a href=/blog/posts/docker-uv/posts-docker-uv-1.jpg target=_blank><picture><source srcset=/blog/posts/docker-uv/posts-docker-uv-1_hu_3d193ab24457b365.webp type=image/webp><source srcset=/blog/posts/docker-uv/posts-docker-uv-1_hu_6ca4995ff8bcfeb7.jpg type=image/jpeg><img src=/blog/posts/docker-uv/posts-docker-uv-1_hu_6ca4995ff8bcfeb7.jpg alt="Create image illustration in anime style included python3’s snake, rust and uv (it’s new package manager for python written in rust)" loading=lazy decoding=async></picture></a></figure><p>Long story short - it’s fast-Rust python’s pip alternative. And
<code>python3 -m venv ./venv</code> too and maybe more at time when you’re reading it.</p><h2 id=so-what><a href=#so-what>#</a> So what?</h2><p>So, don’t use none of one and <a href=https://github.com/irr123/python-docker target=_blank rel="noopener noreferrer">two</a> and
instead of it just do properly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ARG <span style=color:#eedd82>BASE_IMAGE</span>=python:3.13.2-slim-bookworm
</span></span><span style=display:flex><span>ARG <span style=color:#eedd82>UV_VERSION</span>=0.6.1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>FROM ghcr.io/astral-sh/uv:<span style=color:#eedd82>$UV_VERSION</span> AS uv_carrier
</span></span><span style=display:flex><span>FROM <span style=color:#eedd82>$BASE_IMAGE</span> AS builder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>COPY --from=uv_carrier /uv /uvx /bin/
</span></span><span style=display:flex><span>RUN uv venv /opt/venv
</span></span><span style=display:flex><span>ENV <span style=color:#eedd82>PATH</span>=/opt/venv/bin:<span style=color:#eedd82>$PATH</span> <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span><span style=color:#87ceeb></span>    <span style=color:#eedd82>UV_COMPILE_BYTECODE</span>=<span style=color:#f60>1</span>  <span style=color:#0f0># optional optimization</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>COPY ./requirements.txt requirements.txt
</span></span><span style=display:flex><span>RUN uv pip install -r requirements.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>FROM <span style=color:#eedd82>$BASE_IMAGE</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ENV <span style=color:#eedd82>PATH</span>=/opt/venv/bin:<span style=color:#eedd82>$PATH</span> <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span><span style=color:#87ceeb></span>    <span style=color:#eedd82>PYTHONUNBUFFERED</span>=<span style=color:#f60>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>COPY --from=builder /opt/venv /opt/venv
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>COPY . /opt/app
</span></span><span style=display:flex><span>WORKDIR /opt/app
</span></span></code></pre></div><h2 id=conclusion><a href=#conclusion>#</a> Conclusion</h2><p>Personally I don’t see any reason to spent time to setup uv locally, but on CI
it safe a lot of time, don’t waste it!</p></article></div></main><footer class=site-footer><a target=_blank rel="noopener noreferrer external" href=https://newsletter.bogomolov.work>Newsletter</a> | <a target=_blank href=/blog/index.xml>RSS</a></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-950H2PH48S"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-950H2PH48S")</script><script>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date;for(var r=0;r<document.scripts.length;r++)if(document.scripts[r].src===s)return;i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(100343675,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/100343675 style=position:absolute;left:-9999px alt></div></noscript></body></html>