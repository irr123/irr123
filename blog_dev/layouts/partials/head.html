<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  {{ $pageTitle := cond .IsHome site.Title .Title -}}
  {{ $pageSummary := plainify (cond .IsPage .Summary site.Params.summary) | htmlUnescape -}}
  {{ $combined := print $pageTitle " | " $pageSummary -}}
  {{ $adjustedTitle := substr $combined 0 64 -}}
  {{ if gt (len $combined) 64 -}}
    {{ $adjustedTitle = print (substr $adjustedTitle 0 61) "..." -}}
  {{ end -}}
  <title>{{ $adjustedTitle }}</title>
  <meta name="description" content="{{ $pageSummary }}"/>
  {{ with .Keywords }}<meta name="keywords" content="{{ delimit . ", " }}"/>{{ end }}
  <meta name="author" content="Ivan Bogomolov"/>
  <meta name="robots" content="index,follow"/>
  <link rel="canonical" href="{{ .Permalink }}"/>
  <link rel="icon" type="image/x-icon" href="/favicon.ico"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png"/>
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png"/>
  <meta property="og:title" content="{{ $pageTitle }}"/>
  <meta property="og:description" content="{{ $pageSummary }}"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="{{ .Permalink }}"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="{{ $pageTitle }}"/>
  <meta name="twitter:description" content="{{ $pageSummary }}"/>
  <meta name="theme-color" content="#000000"/>
  {{ $options := (dict "outputStyle" "compressed" "enableSourceMap" (not hugo.IsProduction)) }}
  {{ $sass := resources.Get "css/main.scss" }}
  {{ $style := $sass | css.Sass $options | resources.Fingerprint "sha512" }}
  <link rel="stylesheet" href="{{ $style.Permalink | relURL }}" integrity="{{ $style.Data.Integrity }}"/>
  <link rel="stylesheet" href="{{ "css/style.css" | relURL }}"/>
  {{ if .Params.mathjax }} {{ partial "mathjax.html" . }} {{ end }}
</head>
