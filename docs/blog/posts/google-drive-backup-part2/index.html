<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Google drive backup (part 2) | This is a continuation of the ...</title><meta name=description content="This is a continuation of the first part, where we built a basic backup solution using local storage. Now, let’s elevate our ..."><meta name=keywords content="rclone,dropbox,google drive,encryption,backup,cloud backup,encrypted cloud storage,rclone backup,google drive encryption,dropbox encryption,secure cloud storage,rclone google drive,rclone dropbox setup,encrypted backups with rclone,data redundancy,cloud data security,offsite backup,automated backups,rclone crypt,secure file transfer,cloud data protection,backup encryption best practices,restoring encrypted backups,google drive to dropbox backup,rclone docker,backup automation,rclone config example"><meta name=author content="Ivan Bogomolov"><meta name=robots content="index,follow"><link rel=canonical href=https://bogomolov.work/blog/posts/google-drive-backup-part2/><link rel=alternate type=application/rss+xml href=/index.xml title="The Archive"><link rel=icon type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=/android-chrome-192x192.png><link rel=icon type=image/png sizes=512x512 href=/android-chrome-512x512.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta property="og:title" content="Google drive backup (part 2)"><meta property="og:description" content="This is a continuation of the first part, where we built a basic backup solution using local storage. Now, let’s elevate our approach by integrating another cloud provider and adding robust encryption.
# Dropbox: Setting Up an Additional Cloud Provider To obtain an access token, you’ll need to configure rclone locally (because of web browser). Here’s how I did it using Docker:
"><meta property="og:type" content="website"><meta property="og:url" content="https://bogomolov.work/blog/posts/google-drive-backup-part2/"><meta property="og:logo" content="https://bogomolov.work/img/the-archive.jpg"><meta property="og:image" content="https://bogomolov.work/blog/posts/google-drive-backup-part2/suit-2.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:creator content="@_irr123"><meta property="twitter:domain" content="bogomolov.work"><meta property="twitter:url" content="https://bogomolov.work/blog/posts/google-drive-backup-part2/"><meta name=twitter:title content="Google drive backup (part 2)"><meta name=twitter:description content="This is a continuation of the first part, where we built a basic backup solution using local storage. Now, let’s elevate our approach by integrating another cloud provider and adding robust encryption.
# Dropbox: Setting Up an Additional Cloud Provider To obtain an access token, you’ll need to configure rclone locally (because of web browser). Here’s how I did it using Docker:
"><meta name=twitter:image content="https://bogomolov.work/blog/posts/google-drive-backup-part2/suit-2.jpg"><meta name=theme-color content="#000000"><link rel=stylesheet href=/css/styles.bundle.min.b9b476989422b1eb61271a40e0050ebf54af233c0f3f17a169674e2655b434c74bf228c6fefc2444a2b4e1f045fda9ccbb1aa8fce37964078d65c4b0c68fa0fa.css integrity="sha512-ubR2mJQisethJxpA4AUOv1SvIzwPPxehaWdOJlW0NMdL8ijG/vwkRKK04fBF/anMuxqo/ON5ZAeNZcSwxo+g+g=="></head><body a=auto><main class=page-content aria-label=Content><div class=w><div class=post-meta><p><a href=/blog/ aria-label="Back to Index" title="Back to Index">← Back</a></p><p><time datetime=2025-03-05T08:46:19+00:00>2025-03-05</time></p></div><h1>Google drive backup (part 2)</h1><article><p>This is a continuation of the first
<a href=/blog/posts/google-drive-backup/>part</a>, where we built a basic
backup solution using local storage. Now, let’s elevate our approach by
integrating another cloud provider and adding robust encryption.</p><figure><a href=/blog/posts/google-drive-backup-part2/suit-2.jpg target=_blank><picture><source srcset=/blog/posts/google-drive-backup-part2/suit-2_hu_9d4fc9edd23d202.webp type=image/webp><source srcset=/blog/posts/google-drive-backup-part2/suit-2_hu_5ff9aa98cbe961b2.jpg type=image/jpeg><img src=/blog/posts/google-drive-backup-part2/suit-2_hu_5ff9aa98cbe961b2.jpg alt="generate image in anime style where relaxed professional guy in blue suit sitting relaxed with wiskey" loading=eager fetchpriority=high decoding=sync></picture></a></figure><h2 id=dropbox-setting-up-an-additional-cloud-provider><a href=#dropbox-setting-up-an-additional-cloud-provider>#</a> Dropbox: Setting Up an Additional Cloud Provider</h2><p>To obtain an access token, you’ll need to configure
<a href=https://rclone.org/remote_setup/ target=_blank rel="noopener noreferrer">rclone</a> locally (because of web browser).
Here’s how I did it using Docker:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run --rm -it <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./config:/config/rclone <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./data:/data <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    --net=host <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    rclone/rclone authorize <span style=color:#87ceeb>&#34;dropbox&#34;</span>
</span></span></code></pre></div><p>After you’ve obtained the token, simply add new sections to your <code>rclone.conf</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[dropbox]
</span></span><span style=display:flex><span>type = dropbox
</span></span><span style=display:flex><span>token = {<span style=color:#87ceeb>&#34;access_token&#34;</span>:<span style=color:#87ceeb>&#34;&lt;...&gt;&#34;</span>}  <span style=color:#0f0># whole obtained string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[dropbox-crypt]
</span></span><span style=display:flex><span>type = crypt
</span></span><span style=display:flex><span>remote = dropbox:
</span></span><span style=display:flex><span>filename_encryption = obfuscate
</span></span><span style=display:flex><span>directory_name_encryption = <span style=color:red>false</span>
</span></span><span style=display:flex><span>password = &lt;PASSWORD&gt;
</span></span></code></pre></div><p><strong>Important:</strong> Remember to replace <code>&lt;PASSWORD></code> with a strong, secure password,
rclone <a href=https://rclone.org/crypt/#configuration target=_blank rel="noopener noreferrer">helps with it</a>.</p><h3 id=rclone-executing-the-encrypted-backup><a href=#rclone-executing-the-encrypted-backup>#</a> rclone: Executing the Encrypted Backup</h3><p>Now, let’s use our encrypted Dropbox remote to back up our Google Drive data:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run --rm -it <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./config:/config/rclone <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./data:/data<span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    rclone/rclone --drive-shared-with-me <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    copy google-drive:&lt;SHARED FOLDER&gt; dropbox-crypt:
</span></span></code></pre></div><h3 id=rclone-recovering-the-encrypted-backup><a href=#rclone-recovering-the-encrypted-backup>#</a> rclone: Recovering the Encrypted Backup</h3><p>To restore your encrypted backup, simply reverse the source and destination in
your <code>rclone copy</code> command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run --rm -it <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./config:/config/rclone <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    -v ./data:/data <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    rclone/rclone --drive-shared-with-me <span style=color:#87ceeb>\
</span></span></span><span style=display:flex><span>    copy dropbox-crypt: google-drive:&lt;SHARED FOLDER&gt;
</span></span></code></pre></div><p>This will decrypt and copy your files back to your Google Drive.</p><p><strong>Note:</strong> Only properly encrypted files will be recovered.</p><h2 id=conclusion><a href=#conclusion>#</a> Conclusion</h2><p>By adding Dropbox as a secondary backup destination and encrypting our data,
we’ve significantly improved the security and redundancy of our Google Drive
backup solution. This approach provides an extra layer of protection against
data loss or unauthorized access. While this setup is more secure than our
initial local storage-based solution, remember that the strength of your
encryption hinges on the security of your password. Always use strong, unique
passwords and store them securely.</p><p>Additionally, consider implementing regular backup testing to ensure your
recovery process works as expected. Future enhancements could include automated
health checks, notifications, and more sophisticated encryption strategies.</p></article></div></main><footer class=site-footer><a target=_blank rel="noopener noreferrer external" href=https://newsletter.bogomolov.work>Newsletter</a> | <a target=_blank href=/index.xml>RSS</a></footer><script>(function(){var e=document.createElement("script");e.src="https://unpkg.com/@grafana/faro-web-sdk@2/dist/bundle/faro-web-sdk.iife.js",e.onload=()=>{window.GrafanaFaroWebSdk.initializeFaro({url:"https://faro-collector-prod-eu-west-2.grafana.net/collect/280a442f2880e6eb5e953a7169416ccf",app:{name:"blog",version:"1.0.0",environment:"production"},sessionTracking:{samplingRate:1,persistent:!0}});var e=document.createElement("script");e.src="https://unpkg.com/@grafana/faro-web-tracing@2/dist/bundle/faro-web-tracing.iife.js",e.onload=()=>{window.GrafanaFaroWebSdk.faro.instrumentations.add(new window.GrafanaFaroWebTracing.TracingInstrumentation)},document.head.appendChild(e)},document.head.appendChild(e)})()</script></body></html>